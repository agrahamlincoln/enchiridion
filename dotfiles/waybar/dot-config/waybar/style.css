/*
 * Powerline-inspired theme for Waybar, themed to match the user's Kitty config.
 *
 * This theme groups modules and uses powerline arrows to separate them.
 * Workspaces are styled as clean, distinct "pills".
 *
 * REQUIREMENTS:
 * 1. A Nerd Font installed and enabled below (e.g., 'FiraCode Nerd Font').
 *    On Arch: `sudo pacman -S ttf-firacode-nerd`
 * 2. The `config.jsonc` must be structured with separator modules.
 * 3. `ttf-font-awesome` for certain icons.
 */

/* --- Base --- */
* {
  /* A robust font stack to ensure all icons and text render correctly. */
  font-family:
    "FiraCode Nerd Font", FontAwesome, Roboto, Helvetica, Arial, sans-serif;
  font-size: 14px;
  font-weight: bold;
  min-height: 0;
  border: none;
  border-radius: 0;
  transition: background-color 0.3s ease;
}

window#waybar {
  background: transparent;
  color: #cdd6f4;
}

tooltip {
  background: #1e1e2e;
  color: #cdd6f4;
  border-radius: 7px;
  border: 2px solid #313244;
}

/* --- Color Palette (from kitty.conf) --- */
@define-color kitty-bg #121212;
@define-color kitty-fg #fffaf3;
@define-color kitty-cursor #1793d0;
@define-color kitty-surface0 #222222;
@define-color kitty-surface1 #383838;
@define-color kitty-red #ff000f;
@define-color kitty-green #8ce00a;
@define-color kitty-yellow #ffb900;
@define-color kitty-blue #008df8;
@define-color kitty-purple #6c43a5;
@define-color kitty-cyan #00d7eb;

/* --- Waybar Group Definitions --- */
/* We'll use the Kitty palette to define our module groups */
@define-color workspaces-active-bg @kitty-cursor;
@define-color workspaces-active-fg @kitty-bg;
@define-color workspaces-inactive-bg @kitty-surface1;
@define-color workspaces-inactive-fg @kitty-fg;
@define-color workspaces-urgent-bg @kitty-red;
@define-color workspaces-urgent-fg @kitty-fg;

@define-color sway-bg @kitty-surface0;
@define-color media-bg @kitty-purple;
@define-color window-bg transparent;
@define-color main-bg @kitty-surface0;
@define-color system-bg @kitty-surface1;
@define-color tray-bg @kitty-surface0;

/* --- General Module Styling --- */
#workspaces,
#mode,
#scratchpad,
#custom-media,
#window,
#custom-updates,
#clock,
#mpd,
#idle_inhibitor,
#pulseaudio,
#network,
#power-profiles-daemon,
#cpu,
#memory,
#temperature,
#backlight,
#keyboard-state,
#language,
#tray,
#custom-power {
  padding: 2px 10px;
  color: @kitty-fg;
}

/* --- Group Backgrounds --- */
/* Left */
#hyprland-workspaces,
#workspaces {
  background: transparent;
}
#mode,
#scratchpad {
  background: @sway-bg;
}
#custom-media {
  background: @media-bg;
}
/* Center */
#window,
#sway-window {
  background: @window-bg;
}
/* Right */
#custom-updates,
#clock,
#mpd,
#idle_inhibitor,
#power-profiles-daemon,
#pulseaudio {
  background: @main-bg;
}
#network,
#cpu,
#memory,
#temperature,
#backlight {
  background: @system-bg;
}
#keyboard-state,
#language,
#tray,
#custom-power {
  background: @tray-bg;
}

/* --- Module Specifics --- */

/* Clean, "pill" style for workspaces */
#workspaces {
  padding: 0 5px;
}

#workspaces button {
  padding: 0 10px;
  margin: 3px 3px;
  border-radius: 10px;
  color: @workspaces-inactive-fg;
  background-color: @workspaces-inactive-bg;
  transition: all 0.3s ease;
}

#workspaces button:hover {
  background-color: @kitty-cyan;
  color: @kitty-bg;
}

#workspaces button.active {
  background: @workspaces-active-bg;
  color: @workspaces-active-fg;
}

#workspaces button.active:hover {
  background: @workspaces-active-bg;
}

#workspaces button.urgent {
  background-color: @workspaces-urgent-bg;
  color: @workspaces-urgent-fg;
}

#pulseaudio.muted,
#network.disconnected {
  color: @kitty-red;
}
#temperature.critical {
  color: @kitty-red;
}
#idle_inhibitor.activated {
  color: @kitty-green;
}

/* --- Powerline Separators --- */
#custom-sep1,
#custom-sep2,
#custom-sep3,
#custom-sep4,
#custom-sep5,
#custom-sep6 {
  font-size: 28px;
  padding: 0;
  margin: 0;
}

/* Left Separators:  (U+E0B0) */
#custom-sep1 {
  background: transparent;
  color: @sway-bg;
}
#custom-sep2 {
  background: @sway-bg;
  color: @media-bg;
}
#custom-sep3 {
  background: @media-bg;
  color: @window-bg;
}

/* Right Separators:  (U+E0B2) */
#custom-sep4 {
  background: @window-bg;
  color: @main-bg;
}
#custom-sep5 {
  background: @main-bg;
  color: @system-bg;
}
#custom-sep6 {
  background: @system-bg;
  color: @tray-bg;
}
