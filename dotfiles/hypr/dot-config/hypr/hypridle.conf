# Hypridle configuration
# Idle management for Hyprland with progressive timeout actions

general {
    lock_cmd = pidof hyprlock || hyprlock           # Command to run when receiving lock signal
    before_sleep_cmd = loginctl lock-session        # Lock before system goes to sleep
    after_sleep_cmd = hyprctl dispatch dpms on      # Turn on display after wake
}

# Warn before screen dimming (14 minutes)
listener {
    timeout = 840                                   # 14 minutes in seconds
    on-timeout = brightnessctl -s set 10%          # Set brightness to 10% as warning
    on-resume = brightnessctl -r                   # Restore previous brightness
}

# Lock screen after 15 minutes of inactivity
listener {
    timeout = 900                                   # 15 minutes in seconds
    on-timeout = loginctl lock-session              # Send lock signal to trigger hyprlock
}

# Turn off display after 16 minutes (1 minute after lock)
listener {
    timeout = 960                                   # 16 minutes in seconds
    on-timeout = hyprctl dispatch dpms off         # Turn off display
    on-resume = hyprctl dispatch dpms on           # Turn on display on resume
}

# Suspend system after 30 minutes of inactivity (optional)
listener {
    timeout = 1800                                  # 30 minutes in seconds
    on-timeout = systemctl suspend                  # Suspend the system
}